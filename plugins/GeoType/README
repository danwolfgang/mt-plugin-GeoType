= GeoPress/MT - for MovableType

This is a work in progress. 

== Setting up
Copy the plugin/GeoPress folder to your MovableType CGI installation mt/plugins/ folder
Copy the plugin/js/geopress folder to your MovableType mt-static/js folder

Login to MovableType and go to the Blog settings for the blog to use with GeoPress
Go to Plugins, click on "Show Settings" in the GeoPress plugin
Add a GoogleMaps or Yahoo App ID, and/or select Microsoft Maps
 - Note: "Add Maps" doesn't affect GeoPress/MT
 - Note: GeoRSS feeds select doesn't "automatically" add to the index.xml template, but will deactivate the GeoRSS inserts if this is unchecked
Save Changes

== Writing an Entry
Go to New Entry, you should see the GeoPress area below the post box for entering a location name, or double-clicking on the map to set the location.
 - Note: The saved locations popup isn't populated yet from stored locations

Write your post and save. The location is automatically saved to the database

== Adding a Map to Posts
Edit your "Individual Entry Archive" or "Main Index" templates to add maps to just single post pages, or to the front page with all posts.

To include maps on pages you will first need to add the following to your <head> to include the GeoPress headers:
<$MTGeoPressHead$>

Available Template tags include:
<$MTGeoPressLocation$> - inserts the 'address' of the location
<$MTGeoPressCoords $> - inserts the latitude, longitude of the location
<$MTGeoPressMap$> - inserts a 'slippy map' of the location

 - Note: will add more tags for outputting the saved name - and using Microformats
 - Note: the map settings are default for right now, adding 'map configuration page'

== Adding GeoRSS
Edit the RSS2.0 Index Template
Add the namespace tag to the rss element:
	<rss version="2.0" <$MTGeoRSS_Namespace$>>
Add the channel tag to the RSS channel:
	 <$MTGeoRSS_Channel$>
      <MTEntries lastn="15">
Add the entry tag to the RSS entry loop:
          <$MTGeoRSS_Entry$>
      </item>

Rebuild & you have GeoRSS!
 - Note: Will add similar to Atom output
 - Note: I'm figuring out if MovableType provides hooks for automatically inserting this into templates - not sure it does

== Adding KML
Choose "Create New Index Template"
Set the name of the template and the output file (I used index.kml)
Copy, or link to, the plugin/GeoPress/tmpl/kml.tmpl file into the Template Body
Save & rebuild & you have KML!

